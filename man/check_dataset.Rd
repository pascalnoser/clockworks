% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/check_dataset.R
\name{check_dataset}
\alias{check_dataset}
\title{Check and Prepare a Dataset for Analysis}
\usage{
check_dataset(dataset, metadata, colname_sample)
}
\arguments{
\item{dataset}{A data frame or matrix representing the dataset to be checked.
It is expected to contain numeric data.}

\item{metadata}{A data frame containing metadata associated with the samples
in the dataset. Must include a column specified by \code{colname_sample}}

\item{colname_sample}{A string specifying the name of the column in \code{metadata}
that contains the sample IDs. These IDs are compared against the column
names of the \code{dataset}.}
}
\value{
A matrix representation of the input dataset, after performing the checks
and conversions. The matrix will have row names representing feature IDs.
}
\description{
This function performs a series of checks on a dataset to ensure it is suitable
for downstream analysis. It verifies data types, handles missing row names,
and confirms the presence of sample IDs in the provided metadata.
}
\details{
The function performs the following checks and operations:
\enumerate{
\item Checks if \code{dataset} is a data frame or matrix.
\item Checks if \code{dataset} contains only numeric data. If it's a data frame,
each column is checked.
\item Converts the \code{dataset} to a matrix to save memory.
\item Checks if the row names of \code{dataset} are just row numbers. If so, a
warning is issued and row names are assigned. This helps ensure
that each row represents a feature.
\item Checks if the column names of \code{dataset} (representing sample IDs) are
present in the specified \code{colname_sample} column of the \code{metadata} data frame.
}
}
\examples{
# Create dummy data and metadata
set.seed(123)
data <- matrix(rnorm(100), nrow = 10)
colnames(data) <- paste0("sample", 1:10)
metadata <- data.frame(sample_id = colnames(data), group = rep(c("A", "B"), each = 5))

# Check the dataset
checked_data <- check_dataset(dataset = data,
                              metadata = metadata,
                              colname_sample = "sample_id")

# Example with feature IDs as row names
rownames(data) <- paste0("gene", 1:10)
checked_data_with_ids <- check_dataset(dataset = data,
                                       metadata = metadata,
                                       colname_sample = "sample_id")

# Example with non-numeric data
data_non_numeric <- data.frame(col1 = 1:10, col2 = letters[1:10])
metadata <- data.frame(sample_id = letters[1:10], group = rep(c("A", "B"), each = 5))
result <- try(check_dataset(dataset = data_non_numeric,
                            metadata = metadata,
                            colname_sample = "sample_id"))
if(inherits(result, "try-error")) {
  message("Error caught (as expected):\n", result)
}

# Example with missing sample IDs in metadata
metadata_missing <- data.frame(sample_id = paste0("sample", 1:5), group = rep("A", 5))
result <- try(check_dataset(dataset = data,
                            metadata = metadata_missing,
                            colname_sample = "sample_id"))
if(inherits(result, "try-error")) {
  message("Error caught (as expected):\n", result)
}

}
