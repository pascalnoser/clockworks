% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/CircadianData.R
\name{CircadianData}
\alias{CircadianData}
\title{Create a CircadianData Object}
\usage{
CircadianData(
  dataset,
  metadata,
  colname_sample,
  colname_time,
  colname_group = NULL,
  colname_subject = NULL,
  period = 24,
  data_type = "norm",
  log_transformed = FALSE,
  log_base = NULL
)
}
\arguments{
\item{dataset}{A data frame or numeric matrix with features as rows and
samples as columns. Must have column names (sample IDs).}

\item{metadata}{A data frame containing sample annotations.}

\item{colname_sample}{A character string specifying the name of the column in
\code{metadata} that contains the sample IDs. These IDs must be unique and match
the column names of \code{dataset}. Use \code{"rownames"} if sample IDs are in the
metadata's row names.}

\item{colname_time}{A character string specifying the name of the column in
\code{metadata} that contains the time information (e.g., collection time). This
column must be numeric.}

\item{colname_group}{An optional character string specifying the name of the
column in \code{metadata} that contains group information.}

\item{colname_subject}{An optional character string specifying the name of
the column in \code{metadata} containing subject IDs for repeated measures
designs.}

\item{period}{A numeric vector of length 1 or 2 specifying the period range
of interest. If \code{clockworks()} is ran with a method that requires a single
value and \code{period} is a vector of length 2, the mean value will be used.
Defaults to 24.}

\item{data_type}{A character string specifying the data type. Must be one of
"count" or "norm". Defaults to "norm" if not already set.}

\item{log_transformed}{A logical value specifying if the input data is
log-transformed. This has no influence on the rhythmicity analysis itself
but is used to calculate the relative amplitude in the original scale of
the data. Defaults to \code{FALSE}.}

\item{log_base}{A single numeric value specifying the base of the logarithm.
Defaults to 2 if \code{log_transformed} is \code{TRUE} and no base is specified.}
}
\value{
A valid \code{CircadianData} object.
}
\description{
This constructor function validates and standardizes user-provided dataset
and metadata, creating a \code{CircadianData} object. It serves as the primary
entry point for creating a valid object, integrating checks for data
integrity, required columns, and consistent sample IDs.
}
\examples{
counts <- matrix(rpois(80, 50), nrow=10, ncol=8,
                 dimnames=list(paste0("Feature", 1:10), paste0("Sample", 1:8)))
meta_df <- data.frame(
  sample_id = paste0("Sample", 1:8),
  zeitgeber_time = rep(c(0,6,12,18), each=2),
  condition = rep(c("WT", "KO"), 4),
  mouse_id = rep(1:4, 2)
)

# Create the object, mapping user column names to standard internal names
cd_obj <- CircadianData(
  dataset = counts,
  metadata = meta_df,
  colname_sample = "sample_id",
  colname_time = "zeitgeber_time",
  colname_group = "condition",
  colname_subject = "mouse_id"
)

print(cd_obj)
# Note how metadata columns have been renamed and standardized
head(get_metadata(cd_obj))

}
